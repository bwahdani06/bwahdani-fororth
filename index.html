<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Persistent List with Remove Buttons</title>
  <style>
    li {
      display: flex;
      align-items: center;
      margin-bottom: 8px;
    }
    .remove-btn {
      margin-left: 10px;
      cursor: pointer;
      color: red;
    }
    #clearAllBtn {
      margin-top: 20px;
      padding: 8px 16px;
      background-color: #ff4444;
      color: white;
      border: none;
      cursor: pointer;
    }
    #clearAllBtn:hover {
      background-color: #cc0000;
    }
  </style>
</head>
<body>
  <input type="text" id="inputBox" placeholder="Enter something">
  <ul id="itemList"></ul>
  <button id="clearAllBtn">Clear All</button>

  <script>
    // Load saved items from localStorage when the page loads
    document.addEventListener('DOMContentLoaded', () => {
      const savedItems = JSON.parse(localStorage.getItem('items')) || [];
      const itemList = document.getElementById('itemList');

      // Populate the list with saved items
      savedItems.forEach((item, index) => {
        addItemToList(item, index);
      });
    });

    // Add new item to the list and save to localStorage
    const inputBox = document.getElementById('inputBox');
    inputBox.addEventListener('keypress', (e) => {
      if (e.key === 'Enter' && inputBox.value.trim() !== '') {
        const itemText = inputBox.value.trim();
        addItemToList(itemText);
        saveToLocalStorage(itemText);

        // Clear the input box
        inputBox.value = '';
      }
    });

    // Function to add an item to the list
    function addItemToList(itemText, index) {
      const itemList = document.getElementById('itemList');

      // Create list item
      const li = document.createElement('li');
      li.textContent = itemText;

      // Create remove button for the item
      const removeBtn = document.createElement('span');
      removeBtn.textContent = '❌';
      removeBtn.className = 'remove-btn';
      removeBtn.addEventListener('click', () => {
        removeItemFromList(index);
      });

      // Append remove button to the list item
      li.appendChild(removeBtn);
      itemList.appendChild(li);
    }

    // Function to remove an item from the list
    function removeItemFromList(index) {
      const savedItems = JSON.parse(localStorage.getItem('items')) || [];
      savedItems.splice(index, 1); // Remove the item at the specified index
      localStorage.setItem('items', JSON.stringify(savedItems));

      // Refresh the list
      refreshList();
    }

    // Function to clear all items
    document.getElementById('clearAllBtn').addEventListener('click', () => {
      localStorage.removeItem('items'); // Clear all items from localStorage
      refreshList(); // Refresh the list
    });

    // Function to refresh the list
    function refreshList() {
      const itemList = document.getElementById('itemList');
      itemList.innerHTML = ''; // Clear the list

      // Repopulate the list from localStorage
      const savedItems = JSON.parse(localStorage.getItem('items')) || [];
      savedItems.forEach((item, index) => {
        addItemToList(item, index);
      });
    }

    // Function to save an item to localStorage
    function saveToLocalStorage(itemText) {
      const savedItems = JSON.parse(localStorage.getItem('items')) || [];
      savedItems.push(itemText);
      localStorage.setItem('items', JSON.stringify(savedItems));
    }
  </script>
</body>
</html>
